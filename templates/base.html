<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Trade-Bay</title>

  <link rel="stylesheet"
        href="https://unpkg.com/bootstrap/dist/css/bootstrap.css">
  <script src="https://unpkg.com/jquery"></script>
  <!-- <script src="https://unpkg.com/popper"></script> -->
  <script src="https://unpkg.com/bootstrap"></script>

  <link rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
  <link rel="stylesheet" href="/static/stylesheets/style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/static/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon-16x16.png">
  <link rel="manifest" href="/static/images/site.webmanifest">
</head>

<body class="{% block body_class %}{% endblock %}">
<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="navbar-brand">
        <img src="/static/images/favicon-32x32.png" alt="logo">
        <span>Trade-Bay</span>
      </a>
      <button class="navbar-toggler navbar-light" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="nav navbar-nav ms-auto">
        <li>
          <form class="d-flex" action="/items/search">
            <input name="q" class="form-control my-2" placeholder="Search Trade-Bay" aria-label="Search" id="search">
              <button class="btn btn-outline-secondary mx-2" type="submit">
                <i class="fa fa-search"></i>
              </button>
          </form>
        </li>
        {% if not g.user %}
        <li class="nav-item">
          <a href="/signup" class="nav-link">Sign up</a>
        </li>
        <li class="nav-item">
          <a href="/login" class="nav-link">Log in</a>
        </li>
        {% else %}
        <li class="nav-item">
          <a href="/user/{{ g.user.id }}" class="nav-link">
            <img src="{{ g.user.image_url }}" alt="{{ g.user.username }}" class="rounded-circle" style="width: 32px; height: 32px;">
            {{ g.user.username }}
          </a>
        </li>
        <li class="nav-item">
          <a href="/logout" class="nav-link">Log out</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
<div class="container">
  {% for category, message in get_flashed_messages(with_categories=True) %}
  <div class="alert alert-{{ category }}">{{ message }}</div>
  {% endfor %}

  {% block content %}
  {% endblock %}

</div>
</body>
</html>